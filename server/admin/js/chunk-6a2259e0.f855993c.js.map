{"version":3,"sources":["webpack:///./src/api/article.js","webpack:///./src/views/article/ArticleTag.vue?e2b4","webpack:///src/views/article/ArticleTag.vue","webpack:///./src/views/article/ArticleTag.vue?f588","webpack:///./src/views/article/ArticleTag.vue","webpack:///./src/views/article/ArticleTag.vue?8867"],"names":["addTag","data","httpUtil","url","method","updateTag","deleteTag","params","getTagList","addArticle","updateArticle","deleteArticle","getArticleInfo","getArticleList","upload","headers","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","createTag","_v","tableData","scopedSlots","_u","key","fn","scope","_s","row","title","selectArticles","length","$event","handleEdit","handleDelete","_id","slot","_e","totalSize","pageSize","page","pageChange","staticRenderFns","created","initTagList","methods","$prompt","confirmButtonText","cancelButtonText","inputValue","currentPage","component"],"mappings":"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","file":"js/chunk-6a2259e0.f855993c.js","sourcesContent":["import httpUtil from \"@/utils/httpUtil\";\r\n\r\n// 文章标签API\r\nexport function addTag(data) {\r\n  return httpUtil({\r\n    url: \"/tag/edit\",\r\n    method: \"post\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function updateTag(data) {\r\n  return httpUtil({\r\n    url: \"/tag/update\",\r\n    method: \"put\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function deleteTag(params) {\r\n  return httpUtil({\r\n    url: \"/tag/delete\",\r\n    method: \"delete\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getTagList(params) {\r\n  return httpUtil({\r\n    url: \"/tag/list\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\n// 文章API\r\nexport function addArticle(data) {\r\n  return httpUtil({\r\n    url: \"/article/edit\",\r\n    method: \"post\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function updateArticle(data) {\r\n  return httpUtil({\r\n    url: \"/article/update\",\r\n    method: \"put\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function deleteArticle(params) {\r\n  return httpUtil({\r\n    url: \"/article/delete\",\r\n    method: \"delete\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getArticleInfo(params) {\r\n  return httpUtil({\r\n    url: \"/article/info\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getArticleList(params) {\r\n  return httpUtil({\r\n    url: \"/article/list\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function upload(data) {\r\n  return httpUtil({\r\n    url: \"/uploads/images\",\r\n    method: \"post\",\r\n    data,\r\n    headers: { \"Content-Type\": \"multipart/form-data\" }\r\n  });\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"articleTag\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.createTag}},[_vm._v(\"新建标签\")]),(_vm.tableData)?_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"编号\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标签名\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.title))])]}}],null,false,2317849052)}),_c('el-table-column',{attrs:{\"prop\":\"selectArticles\",\"label\":\"文章数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(scope.row.selectArticles.length))])]}}],null,false,287535174)}),_c('el-table-column',{staticClass:\"option\",attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{staticClass:\"option-1\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-popconfirm',{attrs:{\"title\":\"确定删除这个标签吗？\"},on:{\"onConfirm\":function($event){return _vm.handleDelete(scope.row._id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)],1)]}}],null,false,2417577733)})],1):_vm._e(),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.totalSize,\"page-size\":_vm.pageSize,\"current-page\":_vm.page},on:{\"current-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"articleTag\">\r\n    <el-button type=\"primary\" plain @click=\"createTag\">新建标签</el-button>\r\n    <el-table class=\"table\" :data=\"tableData\" v-if=\"tableData\">\r\n      <el-table-column prop=\"_id\" label=\"编号\" width=\"350\"></el-table-column>\r\n      <el-table-column prop=\"title\" label=\"标签名\" width=\"350\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag>{{ scope.row.title }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"selectArticles\" label=\"文章数量\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"success\">{{ scope.row.selectArticles.length }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" class=\"option\" width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <el-button class=\"option-1\" size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n            <el-popconfirm title=\"确定删除这个标签吗？\" @onConfirm=\"handleDelete(scope.row._id)\">\r\n              <el-button slot=\"reference\" size=\"mini\" type=\"danger\">删除</el-button>\r\n            </el-popconfirm>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"page\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"totalSize\"\r\n        :page-size=\"pageSize\"\r\n        :current-page=\"page\"\r\n        @current-change=\"pageChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addTag, updateTag, deleteTag, getTagList } from \"@/api/article\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      page: 1,\r\n      pageSize: 8,\r\n      totalSize: 1\r\n    };\r\n  },\r\n  created() {\r\n    this.initTagList();\r\n  },\r\n  methods: {\r\n    async initTagList() {\r\n      const { page, pageSize } = this;\r\n      const res = await getTagList({ page, pageSize });\r\n      this.tableData = res.data.tagList;\r\n      this.totalSize = res.data.totalSize;\r\n    },\r\n    createTag() {\r\n      let title;\r\n      this.$prompt(\"请输入标签名\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(async ({ value }) => {\r\n          if (!value) throw new Error(\"标签名不能为空\");\r\n          title = value;\r\n          const res = await addTag({ title });\r\n          if (res.status == 0) this.initTagList();\r\n        })\r\n        .catch(err => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: err === \"cancel\" ? \"取消创建\" : err\r\n          });\r\n        });\r\n    },\r\n    handleEdit(row) {\r\n      this.$prompt(\"将 [ \" + row.title + \" ] 修改为\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputValue: `${row.title}`\r\n      })\r\n        .then(async ({ value }) => {\r\n          if (!value) throw new Error(\"标签名不能为空\");\r\n          const res = await updateTag({\r\n            id: row._id,\r\n            title: value,\r\n            count: row.count\r\n          });\r\n          if (res.status == 0) this.initTagList();\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消修改\"\r\n          });\r\n        });\r\n    },\r\n    async handleDelete(id) {\r\n      const res = await deleteTag({ id });\r\n      if (res.status == 0) this.initTagList();\r\n    },\r\n    // 页数改变\r\n    pageChange(currentPage) {\r\n      this.page = currentPage;\r\n      this.initTagList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/style/style.scss\";\r\n.articleTag {\r\n  .table {\r\n    padding: 20px;\r\n    height: 70vh;\r\n  }\r\n  .option-1 {\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleTag.vue?vue&type=template&id=07a9dce7&\"\nimport script from \"./ArticleTag.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleTag.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}