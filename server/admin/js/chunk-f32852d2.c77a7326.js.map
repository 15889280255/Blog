{"version":3,"sources":["webpack:///./src/views/system/AdminList.vue?460d","webpack:///./src/api/admin.js","webpack:///src/views/system/AdminList.vue","webpack:///./src/views/system/AdminList.vue?35d2","webpack:///./src/views/system/AdminList.vue","webpack:///./src/views/system/AdminList.vue?5508"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","openDialog","_v","formData","formLabelWidth","model","value","callback","$$v","$set","expression","_l","item","key","_id","type","slot","createAdmin","tableData","scopedSlots","_u","fn","scope","handleDelete","row","_e","staticRenderFns","addAdmin","data","httpUtil","url","method","deleteAdmin","params","updateAdmin","getAdminList","getRoleList","id","role","name","account","password","roleList","created","initAdminList","initRoleList","methods","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,YAAa,KAAQ,CAACN,EAAG,MAAM,CAACJ,EAAIW,GAAG,aAAaP,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUP,EAAIU,YAAYF,GAAG,CAAC,iBAAiB,SAASC,GAAQT,EAAIU,WAAWD,KAAU,CAACL,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQP,EAAIY,WAAW,CAACR,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,cAAcP,EAAIa,iBAAiB,CAACT,EAAG,YAAY,CAACG,MAAM,CAAC,aAAe,OAAOO,MAAM,CAACC,MAAOf,EAAIY,SAAa,KAAEI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIY,SAAU,OAAQK,IAAME,WAAW,kBAAkBnB,EAAIoB,GAAIpB,EAAY,UAAE,SAASqB,GAAM,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAKE,IAAIhB,MAAM,CAAC,MAAQc,EAAKG,KAAK,MAAQH,EAAKE,UAAS,IAAI,GAAGnB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,cAAcP,EAAIa,iBAAiB,CAACT,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOO,MAAM,CAACC,MAAOf,EAAIY,SAAa,KAAEI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIY,SAAU,OAAQK,IAAME,WAAW,oBAAoB,GAAGf,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,cAAcP,EAAIa,iBAAiB,CAACT,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOO,MAAM,CAACC,MAAOf,EAAIY,SAAgB,QAAEI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIY,SAAU,UAAWK,IAAME,WAAW,uBAAuB,GAAGf,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,cAAcP,EAAIa,iBAAiB,CAACT,EAAG,WAAW,CAACG,MAAM,CAAC,aAAe,OAAOO,MAAM,CAACC,MAAOf,EAAIY,SAAiB,SAAEI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIY,SAAU,WAAYK,IAAME,WAAW,wBAAwB,IAAI,GAAGf,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUkB,KAAK,UAAU,CAACrB,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,YAAa,KAAS,CAACV,EAAIW,GAAG,SAASP,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQR,EAAI0B,cAAc,CAACtB,EAAG,MAAM,CAACJ,EAAIW,GAAG,YAAY,IAAI,GAAIX,EAAa,UAAEI,EAAG,WAAW,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAOP,EAAI2B,YAAY,CAACvB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,MAAM,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACE,YAAY,SAASC,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOqB,YAAY5B,EAAI6B,GAAG,CAAC,CAACP,IAAI,UAAUQ,GAAG,SAASC,GAAO,MAAO,CAAC3B,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,cAAcC,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAOT,EAAIgC,aAAaD,EAAME,IAAIV,QAAQ,CAACnB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,YAAY,KAAO,OAAO,KAAO,UAAUkB,KAAK,aAAa,CAACrB,EAAG,MAAM,CAACJ,EAAIW,GAAG,WAAW,IAAI,OAAO,MAAK,EAAM,eAAe,GAAGX,EAAIkC,MAAM,IAC1iFC,EAAkB,G,oCCEf,SAASC,EAASC,GACvB,OAAOC,eAAS,CACdC,IAAK,cACLC,OAAQ,OACRH,SAKG,SAASI,EAAYC,GAC1B,OAAOJ,eAAS,CACdC,IAAK,gBACLC,OAAQ,SACRE,WAKG,SAASC,EAAYN,GAC1B,OAAOC,eAAS,CACdC,IAAK,gBACLC,OAAQ,MACRH,SAKG,SAASO,EAAaF,GAC3B,OAAOJ,eAAS,CACdC,IAAK,cACLC,OAAQ,MACRE,WAKG,SAASG,EAAYH,GAC1B,OAAOJ,eAAS,CACdC,IAAK,aACLC,OAAQ,MACRE,WCoBJ,OACEL,KADF,WAEI,MAAO,CACLV,UAAW,GACXjB,YAAY,EACZE,SAAU,CACRkC,GAAI,GACJC,KAAM,GACNC,KAAM,GACNC,QAAS,GACTC,SAAU,IAEZrC,eAAgB,QAChBsC,SAAU,KAGdC,QAhBF,WAiBInD,KAAKoD,gBACLpD,KAAKqD,gBAEPC,QAAS,CACP,cADJ,WACA,8KACA,IADA,OACA,EADA,OAEA,mBAFA,8CAII,aALJ,WAKA,8KACA,IADA,OACA,EADA,OAEA,kBAFA,8CAKI,YAVJ,WAUA,mKACA,cAEA,KAHA,gCAIA,KAJA,OAIA,EAJA,8CAMA,cANA,OAMA,EANA,eAQA,cACA,+BACA,gBAVA,+CAaI,aAvBJ,SAuBA,iLACA,UADA,OACA,EADA,OAEA,+BAFA,gDC1GkW,I,wBCQ9VC,EAAY,eACd,EACAzD,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E,2CCnBf,yBAAmiB,EAAG","file":"js/chunk-f32852d2.c77a7326.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AdminList\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.openDialog = true}}},[_c('div',[_vm._v(\"管理员列表\")])]),_c('el-dialog',{attrs:{\"title\":\"信息添加\",\"visible\":_vm.openDialog},on:{\"update:visible\":function($event){_vm.openDialog=$event}}},[_c('el-form',{attrs:{\"model\":_vm.formData}},[_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.role),callback:function ($$v) {_vm.$set(_vm.formData, \"role\", $$v)},expression:\"formData.role\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.type,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"名字\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"账号\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.account),callback:function ($$v) {_vm.$set(_vm.formData, \"account\", $$v)},expression:\"formData.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.openDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createAdmin}},[_c('div',[_vm._v(\"确 定\")])])],1)],1),(_vm.tableData)?_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"编号\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"role.type\",\"label\":\"类型\",\"width\":\"250\"}}),_c('el-table-column',{staticClass:\"option\",attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-popconfirm',{attrs:{\"title\":\"确定删除这个标签吗？\"},on:{\"onConfirm\":function($event){return _vm.handleDelete(scope.row._id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_c('div',[_vm._v(\"删除\")])])],1)],1)]}}],null,false,4073513153)})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import httpUtil from '@/utils/httpUtil'\r\n\r\n// 添加管理员\r\nexport function addAdmin(data) {\r\n  return httpUtil({\r\n    url: '/admin/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除管理员\r\nexport function deleteAdmin(params) {\r\n  return httpUtil({\r\n    url: '/admin/delete',\r\n    method: 'delete',\r\n    params\r\n  })\r\n}\r\n\r\n// 更新管理员\r\nexport function updateAdmin(data) {\r\n  return httpUtil({\r\n    url: '/admin/update',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取管理员列表\r\nexport function getAdminList(params) {\r\n  return httpUtil({\r\n    url: '/admin/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取角色列表\r\nexport function getRoleList(params) {\r\n  return httpUtil({\r\n    url: '/role/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}","<template>\r\n  <div class=\"AdminList\">\r\n    <el-button type=\"primary\" plain @click=\"openDialog = true\">\r\n      <div>管理员列表</div>\r\n    </el-button>\r\n\r\n    <el-dialog title=\"信息添加\" :visible.sync=\"openDialog\">\r\n      <el-form :model=\"formData\">\r\n        <el-form-item label=\"角色\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"formData.role\" autocomplete=\"off\">\r\n            <el-option\r\n              v-for=\"item in roleList\"\r\n              :key=\"item._id\"\r\n              :label=\"item.type\"\r\n              :value=\"item._id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"名字\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"账号\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.account\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.password\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"openDialog = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"createAdmin\">\r\n          <div>确 定</div>\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-table class=\"table\" :data=\"tableData\" v-if=\"tableData\">\r\n      <el-table-column prop=\"_id\" label=\"编号\" width=\"350\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"名称\" width=\"250\"></el-table-column>\r\n      <el-table-column prop=\"role.type\" label=\"类型\" width=\"250\"></el-table-column>\r\n      <el-table-column label=\"操作\" class=\"option\" width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <el-popconfirm title=\"确定删除这个标签吗？\" @onConfirm=\"handleDelete(scope.row._id)\">\r\n              <el-button slot=\"reference\" size=\"mini\" type=\"danger\">\r\n                <div>删除</div>\r\n              </el-button>\r\n            </el-popconfirm>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAdminList,\r\n  addAdmin,\r\n  updateAdmin,\r\n  deleteAdmin,\r\n  getRoleList\r\n} from \"@/api/admin\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      openDialog: false,\r\n      formData: {\r\n        id: \"\",\r\n        role: \"\",\r\n        name: \"\",\r\n        account: \"\",\r\n        password: \"\"\r\n      },\r\n      formLabelWidth: \"120px\",\r\n      roleList: []\r\n    };\r\n  },\r\n  created() {\r\n    this.initAdminList();\r\n    this.initRoleList();\r\n  },\r\n  methods: {\r\n    async initAdminList() {\r\n      const res = await getAdminList();\r\n      this.tableData = res.data;\r\n    },\r\n    async initRoleList() {\r\n      const res = await getRoleList();\r\n      this.roleList = res.data;\r\n    },\r\n\r\n    async createAdmin() {\r\n      const formData = this.formData;\r\n      let res;\r\n      if (formData.id) {\r\n        res = await updateAdmin(formData);\r\n      } else {\r\n        res = await addAdmin(this.formData);\r\n      }\r\n      this.formData = {};\r\n      if (res.status == 0) this.initAdminList();\r\n      this.openDialog = false;\r\n    },\r\n\r\n    async handleDelete(id) {\r\n      const res = await deleteAdmin({ id });\r\n      if (res.status == 0) this.initAdminList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/style/style.scss\";\r\n.AdminList {\r\n  .table {\r\n    padding: 20px;\r\n    height: 70vh;\r\n  }\r\n  .option-1 {\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminList.vue?vue&type=template&id=01dec47c&\"\nimport script from \"./AdminList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}