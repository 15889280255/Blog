{"version":3,"sources":["webpack:///./src/views/system/AboutMe.vue?0cd7","webpack:///./src/views/system/SourceList.vue?a5ce","webpack:///./src/utils/byteConversion.js","webpack:///src/views/system/SourceList.vue","webpack:///./src/views/system/SourceList.vue?d7b5","webpack:///./src/views/system/SourceList.vue","webpack:///./src/api/article.js","webpack:///./src/api/qiniu.js","webpack:///./src/views/timeLine/TimeLineList.vue?e15a","webpack:///./src/views/timeLine/TimeLineList.vue?02e7","webpack:///src/views/timeLine/TimeLineList.vue","webpack:///./src/views/timeLine/TimeLineList.vue?6f0a","webpack:///./src/views/timeLine/TimeLineList.vue","webpack:///./src/views/article/ArticleList.vue?05f9","webpack:///./src/api/timeLine.js","webpack:///./src/views/timeLine/TimeLineEdit.vue?da64","webpack:///src/views/timeLine/TimeLineEdit.vue","webpack:///./src/views/timeLine/TimeLineEdit.vue?a117","webpack:///./src/views/timeLine/TimeLineEdit.vue","webpack:///./src/views/article/ArticleTag.vue?e280","webpack:///src/views/article/ArticleTag.vue","webpack:///./src/views/article/ArticleTag.vue?90ff","webpack:///./src/views/article/ArticleTag.vue","webpack:///./src/views/article/ArticleTag.vue?9c7c","webpack:///./src/views/article/ArticleEdit.vue?acff","webpack:///./src/utils/dateFormatFilters.js","webpack:///./src/views/article/ArticleEdit.vue?3f44","webpack:///src/views/article/ArticleEdit.vue","webpack:///./src/views/article/ArticleEdit.vue?2d20","webpack:///./src/views/article/ArticleEdit.vue","webpack:///./src/views/article/ArticleList.vue?ba1e","webpack:///src/views/article/ArticleList.vue","webpack:///./src/views/article/ArticleList.vue?944f","webpack:///./src/views/article/ArticleList.vue","webpack:///./src/views/system/AboutMe.vue?eebd","webpack:///./src/api/about.js","webpack:///src/views/system/AboutMe.vue","webpack:///./src/views/system/AboutMe.vue?e21d","webpack:///./src/views/system/AboutMe.vue","webpack:///./src/api/qiniuUpload.js","webpack:///./src/utils/mixins_upload.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","activeName","expression","staticStyle","imagesViews","scopedSlots","_u","key","fn","scope","baseUrl","row","_v","_s","mimeType","sizeConversion","fsize","_f","putTime","on","$event","deleteAction","slot","imagesTotal","pageSize","imagesPage","imagesPageChange","uploadUrl","uploadMP3","uploadHeaders","inputID","findID","mp3Views","regName","play","mp3Total","mp3Page","mp3PageChange","staticRenderFns","fileSize","size","toFixed","Math","pow","toString","name","mixins","mixins_upload","imagesData","mp3Data","showTabs","getImagesSource","getMp3Source","computed","byteConversion","methods","$route","query","skip","length","slice","currentPage","url","$store","commit","result","status","req","console","log","file","type","$message","error","window","open","component","addTag","data","httpUtil","method","updateTag","deleteTag","params","getTagList","addArticle","updateArticle","deleteArticle","getArticleInfo","getArticleList","qiniuUploadToken","getQiniuSource","qiniuDelete","showEdit","_e","createTimeLine","_l","item","_id","time","editTimeLine","title","content","dateFormatFilters","timeLineList","initTimeLine","$router","push","path","$set","res","addTimeLine","updateTimeLine","deleteTimeLine","getTimeLineList","timeLine","ref","back","id","go","createTag","tableData","selectArticles","handleEdit","handleDelete","totalSize","page","pageChange","initTagList","tagList","$prompt","confirmButtonText","cancelButtonText","inputValue","dateFormat","fmt","date","ret","opt","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","k","RegExp","exec","replace","padStart","filters","format","Date","articleForm","rules","nativeOn","preventDefault","saveArticle","tag","uploadImg","thumbnail","mode","toolbar","handleUploadImage","change","text","props","tags","isTop","isShow","contentMd","contentHtml","getTag","getArticle","role","sessionStorage","getItem","msg","$refs","validate","async","valid","article","indexOf","split","pop","event","insertImage","files","desc","html","createdAt","hitCount","likeCount","goEdit","toDelete","articleTotal","initData","$confirm","aboutForm","saveAbout","logo","updateAbout","getAboutInfo","qq","e_mail","github","initAboutInfo","Object","assign","uploadToQiniu","keyName","doc","shift","mimetype","Message","getTime","random","canvasDataURL","then","blob","showClose","message","duration","File","formData","FormData","append","post","onUploadProgress","progressEvent","parseInt","loaded","total","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","e","img","Image","quality","canvas","document","createElement","drawer","getContext","src","height","width","drawImage","convertBase64UrlToBlob","toDataURL","urlData","arr","mine","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","Blob"],"mappings":"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","file":"js/chunk-18f30017.386c3c5f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=style&index=0&id=531109e3&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=style&index=0&id=531109e3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"source\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"图片资源\",\"name\":\"picture\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.imagesViews}},[_c('el-table-column',{attrs:{\"label\":\"预览\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticStyle:{\"color\":\"black\"},attrs:{\"href\":_vm.baseUrl + scope.row.key,\"target\":\"block\"}},[_c('img',{attrs:{\"src\":_vm.baseUrl + scope.row.key,\"alt\":\"\",\"width\":\"100\",\"height\":\"100\"}})])]}}])}),_c('el-table-column',{attrs:{\"label\":\"mimeType\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.mimeType))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Size\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(_vm.sizeConversion(scope.row.fsize)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"上传时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(_vm._f(\"dateFormatFilters\")((scope.row.putTime / 1e4),\"YYYY-mm-dd HH:MM:SS\")))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{attrs:{\"title\":\"确定删除这个标签吗？\"},on:{\"onConfirm\":function($event){return _vm.deleteAction(scope.row.key)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.imagesTotal,\"page-size\":_vm.pageSize,\"current-page\":_vm.imagesPage},on:{\"current-change\":_vm.imagesPageChange}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"音频资源\",\"name\":\"music\"}},[_c('div',{staticClass:\"upload\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\",\"align\":\"middle\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"action\":_vm.uploadUrl,\"http-request\":_vm.uploadMP3,\"header\":_vm.uploadHeaders,\"accept\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\" 将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"placeholder\":\"请输入ID\"},model:{value:(_vm.inputID),callback:function ($$v) {_vm.inputID=$$v},expression:\"inputID\"}}),_c('el-button',{on:{\"click\":_vm.findID}},[_vm._v(\"查找\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.mp3Views}},[_c('el-table-column',{attrs:{\"label\":\"name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticStyle:{\"color\":\"black\"},attrs:{\"href\":_vm.baseUrl + scope.row.key,\"target\":\"block\"}},[_vm._v(_vm._s(_vm.regName(scope.row.key)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"mimeType\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(scope.row.mimeType))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Size\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(_vm.sizeConversion(scope.row.fsize)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"上传时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\"}},[_vm._v(_vm._s(_vm._f(\"dateFormatFilters\")((scope.row.putTime / 1e4),\"YYYY-mm-dd HH:MM:SS\")))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"播放\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-video-play\"},on:{\"click\":function($event){return _vm.play(_vm.baseUrl + scope.row.key)}}},[_vm._v(\"播放\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-popconfirm',{attrs:{\"title\":\"确定删除这个标签吗？\"},on:{\"onConfirm\":function($event){return _vm.deleteAction(scope.row.key)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])})],1),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.mp3Total,\"page-size\":_vm.pageSize,\"current-page\":_vm.mp3Page},on:{\"current-change\":_vm.mp3PageChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function (fileSize) {\r\n  if (!fileSize) return \"未知大小\"\r\n  let size = '';\r\n  let value = 1024;\r\n\r\n  if (fileSize < value) {\r\n    size = fileSize.toFixed(2) + \"B\"\r\n  } else if (fileSize < Math.pow(value, 2)) {\r\n    size = (fileSize / value).toFixed(2) + \"KB\"\r\n  }\r\n  else if (fileSize < Math.pow(value, 3)) {\r\n    size = (fileSize / Math.pow(value, 2)).toFixed(2) + \"MB\"\r\n  }\r\n  else if (fileSize < Math.pow(value, 4)) {\r\n    size = (fileSize / Math.pow(value, 3)).toFixed(2) + \"G\"\r\n  } else {\r\n    size = fileSize + \"未知单位\"\r\n  }\r\n\r\n  return size.toString();\r\n}","<template>\r\n  <div class=\"source\">\r\n    <el-tabs type=\"border-card\" v-model=\"activeName\">\r\n      <el-tab-pane label=\"图片资源\" name=\"picture\">\r\n        <el-table :data=\"imagesViews\" style=\"width: 100%\">\r\n          <el-table-column label=\"预览\">\r\n            <template slot-scope=\"scope\">\r\n              <a\r\n                style=\"color: black\"\r\n                :href=\"baseUrl + scope.row.key\"\r\n                target=\"block\"\r\n              >\r\n                <img\r\n                  :src=\"baseUrl + scope.row.key\"\r\n                  alt=\"\"\r\n                  width=\"100\"\r\n                  height=\"100\"\r\n              /></a>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"mimeType\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{ scope.row.mimeType }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"Size\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{\r\n                sizeConversion(scope.row.fsize)\r\n              }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"上传时间\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{\r\n                (scope.row.putTime / 1e4)\r\n                  | dateFormatFilters(\"YYYY-mm-dd HH:MM:SS\")\r\n              }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-popconfirm\r\n                title=\"确定删除这个标签吗？\"\r\n                @onConfirm=\"deleteAction(scope.row.key)\"\r\n              >\r\n                <el-button slot=\"reference\" size=\"mini\" type=\"danger\"\r\n                  >删除</el-button\r\n                >\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"page\">\r\n          <el-pagination\r\n            background\r\n            layout=\"prev, pager, next\"\r\n            :total=\"imagesTotal\"\r\n            :page-size=\"pageSize\"\r\n            :current-page=\"imagesPage\"\r\n            @current-change=\"imagesPageChange\"\r\n          ></el-pagination>\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"音频资源\" name=\"music\">\r\n        <div class=\"upload\">\r\n          <el-row\r\n            type=\"flex\"\r\n            class=\"row-bg\"\r\n            justify=\"space-around\"\r\n            align=\"middle\"\r\n          >\r\n            <el-col :span=\"4\">\r\n              <el-upload\r\n                class=\"upload-demo\"\r\n                drag\r\n                :action=\"uploadUrl\"\r\n                :http-request=\"uploadMP3\"\r\n                :header=\"uploadHeaders\"\r\n                accept=\"\"\r\n              >\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">\r\n                  将文件拖到此处，或<em>点击上传</em>\r\n                </div>\r\n              </el-upload></el-col\r\n            >\r\n            <el-col :span=\"6\">\r\n              <el-input v-model=\"inputID\" placeholder=\"请输入ID\"></el-input>\r\n              <el-button @click=\"findID\">查找</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n\r\n        <el-table :data=\"mp3Views\" style=\"width: 100%\">\r\n          <el-table-column label=\"name\">\r\n            <template slot-scope=\"scope\">\r\n              <a\r\n                style=\"color: black\"\r\n                :href=\"baseUrl + scope.row.key\"\r\n                target=\"block\"\r\n                >{{ regName(scope.row.key) }}</a\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"mimeType\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{ scope.row.mimeType }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"Size\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{\r\n                sizeConversion(scope.row.fsize)\r\n              }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"上传时间\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag size=\"medium\">{{\r\n                (scope.row.putTime / 1e4)\r\n                  | dateFormatFilters(\"YYYY-mm-dd HH:MM:SS\")\r\n              }}</el-tag>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"播放\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-video-play\"\r\n                @click=\"play(baseUrl + scope.row.key)\"\r\n                >播放</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-popconfirm\r\n                title=\"确定删除这个标签吗？\"\r\n                @onConfirm=\"deleteAction(scope.row.key)\"\r\n              >\r\n                <el-button slot=\"reference\" size=\"mini\" type=\"danger\"\r\n                  >删除</el-button\r\n                >\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"page\">\r\n          <el-pagination\r\n            background\r\n            layout=\"prev, pager, next\"\r\n            :total=\"mp3Total\"\r\n            :page-size=\"pageSize\"\r\n            :current-page=\"mp3Page\"\r\n            @current-change=\"mp3PageChange\"\r\n          ></el-pagination>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getQiniuSource, qiniuDelete } from \"@/api/qiniu\";\r\nimport dateFormatFilters from \"@/utils/dateFormatFilters.js\";\r\nimport mixins_upload from \"@/utils/mixins_upload\";\r\nimport uploadToQiniu from \"@/api/qiniuUpload\";\r\nimport byteConversion from \"@/utils/byteConversion\";\r\nexport default {\r\n  name: \"sourceList\",\r\n  mixins: [mixins_upload, dateFormatFilters],\r\n  data() {\r\n    return {\r\n      baseUrl: \"http://img.xujinfeng.top/\",\r\n      imagesPage: 1,\r\n      mp3Page: 1,\r\n      pageSize: 8,\r\n      mp3Total: 1,\r\n      imagesTotal: 1,\r\n      imagesData: [],\r\n      imagesViews: [],\r\n      mp3Data: [],\r\n      mp3Views: [],\r\n      activeName: \"picture\", //tabs 激活名字\r\n      inputID: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showTabs();\r\n    this.getImagesSource();\r\n    this.getMp3Source();\r\n  },\r\n  computed: {\r\n    regName() {\r\n      return (name) => {\r\n        return name\r\n          .match(/\\/.*\\.mp3/)[0]\r\n          .split(\".\")[0]\r\n          .replace(\"/\", \"\");\r\n      };\r\n    },\r\n    sizeConversion() {\r\n      return (fileSize) => {\r\n        return byteConversion(fileSize);\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    //跳转到指定的Tabs\r\n    showTabs() {\r\n      if (this.$route.query.activeName != null) {\r\n        this.activeName = this.$route.query.activeName;\r\n      }\r\n    },\r\n    // 获取图片资源\r\n    async getImagesSource(skip) {\r\n      if (!skip) {\r\n        this.imagesData = (\r\n          await getQiniuSource({\r\n            limit: 9999,\r\n            prefix: \"image\",\r\n          })\r\n        ).data.items.reverse();\r\n      }\r\n      skip = skip || this.imagesPage;\r\n      if (this.imagesData) {\r\n        this.imagesTotal = this.imagesData.length;\r\n        this.imagesViews = this.imagesData.slice(\r\n          (skip - 1) * this.pageSize,\r\n          skip * this.pageSize\r\n        );\r\n      }\r\n    },\r\n\r\n    // 获取mp3资源\r\n    async getMp3Source(skip) {\r\n      if (!skip) {\r\n        this.mp3Data = (\r\n          await getQiniuSource({ limit: 9999, prefix: \"audio\" })\r\n        ).data.items.reverse();\r\n      }\r\n      skip = skip || this.mp3Page;\r\n      if (this.mp3Data) {\r\n        this.mp3Total = this.mp3Data.length;\r\n        this.mp3Views = this.mp3Data.slice(\r\n          (skip - 1) * this.pageSize,\r\n          skip * this.pageSize\r\n        );\r\n      }\r\n    },\r\n\r\n    mp3PageChange(currentPage) {\r\n      this.mp3Page = currentPage;\r\n      this.getMp3Source(currentPage);\r\n    },\r\n\r\n    imagesPageChange(currentPage) {\r\n      this.imagesPage = currentPage;\r\n      this.getImagesSource(currentPage);\r\n    },\r\n\r\n    play(url) {\r\n      this.$store.commit(\"setPlay\", {\r\n        url: url,\r\n      });\r\n    },\r\n\r\n    async deleteAction(key) {\r\n      const result = await qiniuDelete({ key });\r\n      if (result.status === 0) {\r\n        this.getImagesSource();\r\n        this.getMp3Source();\r\n      }\r\n    },\r\n\r\n    async uploadMP3(req) {\r\n      console.log(req.file);\r\n      if (req.file.type != \"audio/mpeg\") {\r\n        this.$message.error('只支持上传 \"audio/mpeg\" 类型文件');\r\n        return;\r\n      }\r\n      const result = await uploadToQiniu(req.file);\r\n      console.log(\"result: \", result);\r\n      console.log(\"result.url: \", result.url);\r\n      this.getMp3Source();\r\n    },\r\n\r\n    findID() {\r\n      if (!this.inputID) {\r\n        this.$message.error(\"请先输入ID\");\r\n        return;\r\n      }\r\n      window.open(\r\n        `http://music.163.com/song/media/outer/url?id=${this.inputID}.mp3`,\r\n        \"_blank\"\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SourceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SourceList.vue?vue&type=template&id=344d3be0&scoped=true&\"\nimport script from \"./SourceList.vue?vue&type=script&lang=js&\"\nexport * from \"./SourceList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"344d3be0\",\n  null\n  \n)\n\nexport default component.exports","import httpUtil from \"@/utils/httpUtil\";\r\n\r\n// 文章标签API\r\nexport function addTag(data) {\r\n  return httpUtil({\r\n    url: \"/tag/edit\",\r\n    method: \"post\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function updateTag(data) {\r\n  return httpUtil({\r\n    url: \"/tag/update\",\r\n    method: \"put\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function deleteTag(params) {\r\n  return httpUtil({\r\n    url: \"/tag/delete\",\r\n    method: \"delete\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getTagList(params) {\r\n  return httpUtil({\r\n    url: \"/tag/list\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\n// 文章API\r\nexport function addArticle(data) {\r\n  return httpUtil({\r\n    url: \"/article/edit\",\r\n    method: \"post\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function updateArticle(data) {\r\n  return httpUtil({\r\n    url: \"/article/update\",\r\n    method: \"put\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function deleteArticle(params) {\r\n  return httpUtil({\r\n    url: \"/article/delete\",\r\n    method: \"delete\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getArticleInfo(params) {\r\n  return httpUtil({\r\n    url: \"/article/info\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function getArticleList(params) {\r\n  return httpUtil({\r\n    url: \"/article/list\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n\r\nexport function upload(data) {\r\n  return httpUtil({\r\n    url: \"/uploads/images\",\r\n    method: \"post\",\r\n    data,\r\n    headers: { \"Content-Type\": \"multipart/form-data\" }\r\n  });\r\n}\r\n","import httpUtil from \"@/utils/httpUtil\";\r\n\r\n// 获取七牛云token\r\nexport function qiniuUploadToken() {\r\n  return httpUtil({\r\n    url: '/qiniuUploadToken',\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n// 上传到七牛云\r\nexport function uploads(data) {\r\n  return httpUtil({\r\n    url: '/uploads',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n* \r\n* @Descripttion 获取七牛云资源  \r\n* @param prefix 列举的文件前缀\r\n* @param limit 每次返回的最大列举文件数量\r\n*/\r\nexport function getQiniuSource(params) {\r\n  return httpUtil({\r\n    url: '/getQiniuSource',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\nexport function qiniuDelete(params) {\r\n  return httpUtil({\r\n    url: '/qiniuDelete',\r\n    method: 'delete',\r\n    params\r\n  })\r\n}","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showEdit)?_c('div',{staticClass:\"block\"},[_c('router-view')],1):_c('div',[(!_vm.showEdit)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createTimeLine}},[_c('span',[_vm._v(\"创建时间线\")])]):_vm._e(),_c('el-timeline',{staticClass:\"timeline\",attrs:{\"reverse\":\"\"}},_vm._l((_vm.timeLineList),function(item){return _c('el-timeline-item',{key:item._id,attrs:{\"timestamp\":_vm._f(\"dateFormatFilters\")(item.time,'YYYY-mm-dd'),\"color\":\"#409eff\",\"placement\":\"bottom\"}},[_c('div',{on:{\"click\":function($event){return _vm.editTimeLine(item)}}},[_c('el-card',[_c('h4',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(_vm._s(item.content))])])],1)])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"block\" v-if=\"showEdit\">\r\n    <router-view></router-view>\r\n  </div>\r\n  <div v-else>\r\n    <el-button type=\"primary\" @click=\"createTimeLine\" v-if=\"!showEdit\">\r\n      <span>创建时间线</span>\r\n    </el-button>\r\n    <el-timeline class=\"timeline\" reverse>\r\n      <el-timeline-item\r\n        v-for=\"item in timeLineList\"\r\n        :key=\"item._id\"\r\n        :timestamp=\"item.time | dateFormatFilters('YYYY-mm-dd')\"\r\n        color=\"#409eff\"\r\n        placement=\"bottom\"\r\n      >\r\n        <div @click=\"editTimeLine(item)\">\r\n          <el-card>\r\n            <h4>{{ item.title }}</h4>\r\n            <p>{{ item.content }}</p>\r\n          </el-card>\r\n        </div>\r\n      </el-timeline-item>\r\n    </el-timeline>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTimeLineList } from \"@/api/timeLine\";\r\nimport dateFormatFilters from \"@/utils/dateFormatFilters.js\";\r\nexport default {\r\n  mixins: [dateFormatFilters],\r\n  data() {\r\n    return {\r\n      showEdit: false,\r\n      timeLineList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    const showEdit = this.$route.query.showEdit;\r\n    if (showEdit) {\r\n      this.showEdit = showEdit;\r\n    }\r\n    this.initTimeLine();\r\n  },\r\n  methods: {\r\n    createTimeLine() {\r\n      this.$router.push({\r\n        path: \"/timeLine/timeLineList/timeLineEdit\",\r\n        query: { showEdit: \"true\" },\r\n      });\r\n    },\r\n    changeShowEdit() {\r\n      this.$set(this, \"showEdit\", !this.showEdit);\r\n    },\r\n    async initTimeLine() {\r\n      const res = await getTimeLineList();\r\n      this.timeLineList = res.data;\r\n    },\r\n    editTimeLine(item) {\r\n      this.$router.push({\r\n        path: \"/timeLine/timeLineList/timeLineEdit\",\r\n        query: { showEdit: \"true\", timeLine: item },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.timeline {\r\n  padding: 20px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeLineList.vue?vue&type=template&id=2480a3de&\"\nimport script from \"./TimeLineList.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeLineList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TimeLineList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=style&index=0&id=455d1db7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=style&index=0&id=455d1db7&lang=scss&scoped=true&\"","import httpUtil from '@/utils/httpUtil'\r\n\r\n// 时间线API\r\nexport function addTimeLine(data) {\r\n  return httpUtil({\r\n    url: '/timeLine/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\nexport function updateTimeLine(data) {\r\n  return httpUtil({\r\n    url: '/timeLine/update',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\nexport function deleteTimeLine(params) {\r\n  return httpUtil({\r\n    url: '/timeLine/delete',\r\n    method: 'delete',\r\n    params\r\n  })\r\n}\r\n\r\n\r\nexport function getTimeLineList(params) {\r\n  return httpUtil({\r\n    url: '/timeLine/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.timeLine._id ? \"编辑\" : \"新建\")+\"时间线\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.timeLine,\"label-width\":\"120px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"标题 : \"}},[_c('el-input',{model:{value:(_vm.timeLine.title),callback:function ($$v) {_vm.$set(_vm.timeLine, \"title\", $$v)},expression:\"timeLine.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"创建时间 : \"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.timeLine.time),callback:function ($$v) {_vm.$set(_vm.timeLine, \"time\", $$v)},expression:\"timeLine.time\"}})],1),_c('el-form-item',{attrs:{\"label\":\"时间线内容 : \"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":8,\"placeholder\":\"请输入内容\"},model:{value:(_vm.timeLine.content),callback:function ($$v) {_vm.$set(_vm.timeLine, \"content\", $$v)},expression:\"timeLine.content\"}})],1),_c('el-form-item',{attrs:{\"size\":\"large\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editTimeLine}},[_vm._v(\"立即\"+_vm._s(_vm.timeLine._id ? \"修改\" : \"创建\"))]),(_vm.timeLine._id)?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.deleteTimeLine}},[_vm._v(\"删除\")]):_vm._e(),_c('el-button',{on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"title\">{{ timeLine._id ? \"编辑\" : \"新建\" }}时间线</h2>\r\n    <el-form ref=\"form\" :model=\"timeLine\" label-width=\"120px\" size=\"mini\">\r\n      <el-form-item label=\"标题 : \">\r\n        <el-input v-model=\"timeLine.title\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"创建时间 : \">\r\n        <el-date-picker\r\n          v-model=\"timeLine.time\"\r\n          type=\"date\"\r\n          placeholder=\"选择日期\"\r\n        ></el-date-picker>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"时间线内容 : \">\r\n        <el-input\r\n          type=\"textarea\"\r\n          :rows=\"8\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"timeLine.content\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item size=\"large\">\r\n        <el-button type=\"primary\" @click=\"editTimeLine\"\r\n          >立即{{ timeLine._id ? \"修改\" : \"创建\" }}</el-button\r\n        >\r\n        <el-button type=\"danger\" @click=\"deleteTimeLine\" v-if=\"timeLine._id\"\r\n          >删除</el-button\r\n        >\r\n        <el-button @click=\"back()\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addTimeLine, updateTimeLine, deleteTimeLine } from \"@/api/timeLine\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      timeLine: {\r\n        title: \"\",\r\n        time: \"\",\r\n        content: \"\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.timeLine) this.timeLine = this.$route.query.timeLine;\r\n  },\r\n  methods: {\r\n    async editTimeLine() {\r\n      const timeLine = this.timeLine;\r\n      let res;\r\n      if (this.timeLine._id) {\r\n        res = await updateTimeLine({ id: this.timeLine._id, timeLine });\r\n      } else {\r\n        res = await addTimeLine({ timeLine });\r\n      }\r\n      this.back(res);\r\n    },\r\n    async deleteTimeLine() {\r\n      const id = this.timeLine._id;\r\n      const res = await deleteTimeLine({ id });\r\n      this.back(res);\r\n    },\r\n    back(res) {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeLineEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeLineEdit.vue?vue&type=template&id=dd9a4638&\"\nimport script from \"./TimeLineEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeLineEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"articleTag\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.createTag}},[_vm._v(\"新建标签\")]),(_vm.tableData)?_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"编号\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标签名\",\"width\":\"350\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.title))])]}}],null,false,2317849052)}),_c('el-table-column',{attrs:{\"prop\":\"selectArticles\",\"label\":\"文章数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(scope.row.selectArticles.length))])]}}],null,false,287535174)}),_c('el-table-column',{staticClass:\"option\",attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{staticClass:\"option-1\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-popconfirm',{attrs:{\"title\":\"确定删除这个标签吗？\"},on:{\"onConfirm\":function($event){return _vm.handleDelete(scope.row._id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)],1)]}}],null,false,2417577733)})],1):_vm._e(),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.totalSize,\"page-size\":_vm.pageSize,\"current-page\":_vm.page},on:{\"current-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"articleTag\">\r\n    <el-button type=\"primary\" plain @click=\"createTag\">新建标签</el-button>\r\n    <el-table class=\"table\" :data=\"tableData\" v-if=\"tableData\">\r\n      <el-table-column prop=\"_id\" label=\"编号\" width=\"350\"></el-table-column>\r\n      <el-table-column prop=\"title\" label=\"标签名\" width=\"350\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag>{{ scope.row.title }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"selectArticles\" label=\"文章数量\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag type=\"success\">{{ scope.row.selectArticles.length }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" class=\"option\" width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <el-button class=\"option-1\" size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n            <el-popconfirm title=\"确定删除这个标签吗？\" @onConfirm=\"handleDelete(scope.row._id)\">\r\n              <el-button slot=\"reference\" size=\"mini\" type=\"danger\">删除</el-button>\r\n            </el-popconfirm>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"page\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"totalSize\"\r\n        :page-size=\"pageSize\"\r\n        :current-page=\"page\"\r\n        @current-change=\"pageChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addTag, updateTag, deleteTag, getTagList } from \"@/api/article\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      page: 1,\r\n      pageSize: 8,\r\n      totalSize: 1\r\n    };\r\n  },\r\n  created() {\r\n    this.initTagList();\r\n  },\r\n  methods: {\r\n    async initTagList() {\r\n      const { page, pageSize } = this;\r\n      const res = await getTagList({ page, pageSize });\r\n      this.tableData = res.data.tagList;\r\n      this.totalSize = res.data.totalSize;\r\n    },\r\n    createTag() {\r\n      let title;\r\n      this.$prompt(\"请输入标签名\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(async ({ value }) => {\r\n          if (!value) throw new Error(\"标签名不能为空\");\r\n          title = value;\r\n          const res = await addTag({ title });\r\n          if (res.status == 0) this.initTagList();\r\n        })\r\n        .catch(err => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: err === \"cancel\" ? \"取消创建\" : err\r\n          });\r\n        });\r\n    },\r\n    handleEdit(row) {\r\n      this.$prompt(\"将 [ \" + row.title + \" ] 修改为\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputValue: `${row.title}`\r\n      })\r\n        .then(async ({ value }) => {\r\n          if (!value) throw new Error(\"标签名不能为空\");\r\n          const res = await updateTag({\r\n            id: row._id,\r\n            title: value,\r\n            count: row.count\r\n          });\r\n          if (res.status == 0) this.initTagList();\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"取消修改\"\r\n          });\r\n        });\r\n    },\r\n    async handleDelete(id) {\r\n      const res = await deleteTag({ id });\r\n      if (res.status == 0) this.initTagList();\r\n    },\r\n    // 页数改变\r\n    pageChange(currentPage) {\r\n      this.page = currentPage;\r\n      this.initTagList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/style/style.scss\";\r\n.articleTag {\r\n  .table {\r\n    padding: 20px;\r\n  }\r\n  .option-1 {\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleTag.vue?vue&type=template&id=2ee08185&\"\nimport script from \"./ArticleTag.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleTag.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleTag.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=style&index=0&id=4612b67f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=style&index=0&id=4612b67f&scoped=true&lang=css&\"","/**\r\n * 日期格式 filters\r\n */\r\n\r\nfunction dateFormat(fmt, date) {\r\n  let ret;\r\n  const opt = {\r\n    \"Y+\": date.getFullYear().toString(),        // 年\r\n    \"m+\": (date.getMonth() + 1).toString(),     // 月\r\n    \"d+\": date.getDate().toString(),            // 日\r\n    \"H+\": date.getHours().toString(),           // 时\r\n    \"M+\": date.getMinutes().toString(),         // 分\r\n    \"S+\": date.getSeconds().toString()          // 秒\r\n    // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n  };\r\n  for (let k in opt) {\r\n    ret = new RegExp(\"(\" + k + \")\").exec(fmt);\r\n    if (ret) {\r\n      fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, \"0\")))\r\n    };\r\n  };\r\n  return fmt;\r\n}\r\nexport default {\r\n  filters: {\r\n    dateFormatFilters(value, format = 'YYYY-mm-dd') {\r\n      return dateFormat(format, new Date(value));\r\n    },\r\n  },\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.id ? \"编辑\" : \"新建\")+\"文章\")]),_c('el-form',{ref:\"articleForm\",attrs:{\"model\":_vm.articleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.saveArticle($event)}}},[_c('el-form-item',{attrs:{\"label\":\"文章标题 :\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.articleForm.title),callback:function ($$v) {_vm.$set(_vm.articleForm, \"title\", $$v)},expression:\"articleForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章类型 :\",\"prop\":\"tags\"}},[(_vm.tagList)?_c('el-checkbox-group',{attrs:{\"size\":\"medium\"},model:{value:(_vm.articleForm.tags),callback:function ($$v) {_vm.$set(_vm.articleForm, \"tags\", $$v)},expression:\"articleForm.tags\"}},_vm._l((_vm.tagList),function(tag){return _c('el-checkbox-button',{key:tag._id,attrs:{\"label\":tag._id}},[_vm._v(_vm._s(tag.title))])}),1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"设置置顶 :\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#666\"},model:{value:(_vm.articleForm.isTop),callback:function ($$v) {_vm.$set(_vm.articleForm, \"isTop\", $$v)},expression:\"articleForm.isTop\"}}),_c('span',{staticStyle:{\"padding-left\":\"40px\",\"color\":\"#606266\"}},[_vm._v(\"设置可见 : \")]),_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#666\"},model:{value:(_vm.articleForm.isShow),callback:function ($$v) {_vm.$set(_vm.articleForm, \"isShow\", $$v)},expression:\"articleForm.isShow\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封 面 :\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"drag\":\"\",\"action\":_vm.uploadUrl,\"http-request\":_vm.uploadImg,\"show-file-list\":false,\"header\":_vm.uploadHeaders}},[(_vm.articleForm.thumbnail)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.articleForm.thumbnail}}):_vm._e(),_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-form-item',{attrs:{\"label\":\"文章内容 :\",\"prop\":\"contentMd\"}},[_c('v-md-editor',{attrs:{\"mode\":_vm.mode,\"left-toolbar\":_vm.toolbar,\"height\":\"400px\",\"disabled-menus\":[]},on:{\"upload-image\":_vm.handleUploadImage,\"change\":_vm.change},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"title\">{{ id ? \"编辑\" : \"新建\" }}文章</h2>\r\n    <el-form\r\n      :model=\"articleForm\"\r\n      ref=\"articleForm\"\r\n      :rules=\"rules\"\r\n      label-width=\"100px\"\r\n      @submit.native.prevent=\"saveArticle\"\r\n    >\r\n      <el-form-item label=\"文章标题 :\" prop=\"title\">\r\n        <el-input v-model=\"articleForm.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"文章类型 :\" prop=\"tags\">\r\n        <el-checkbox-group\r\n          v-if=\"tagList\"\r\n          v-model=\"articleForm.tags\"\r\n          size=\"medium\"\r\n        >\r\n          <el-checkbox-button\r\n            v-for=\"tag in tagList\"\r\n            :label=\"tag._id\"\r\n            :key=\"tag._id\"\r\n            >{{ tag.title }}</el-checkbox-button\r\n          >\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"设置置顶 :\">\r\n        <el-switch\r\n          v-model=\"articleForm.isTop\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#666\"\r\n        ></el-switch>\r\n        <span style=\"padding-left: 40px; color: #606266\">设置可见 :&nbsp;</span>\r\n        <el-switch\r\n          v-model=\"articleForm.isShow\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#666\"\r\n        ></el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"封 面 :\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          drag\r\n          :action=\"uploadUrl\"\r\n          :http-request=\"uploadImg\"\r\n          :show-file-list=\"false\"\r\n          :header=\"uploadHeaders\"\r\n        >\r\n          <img\r\n            v-if=\"articleForm.thumbnail\"\r\n            :src=\"articleForm.thumbnail\"\r\n            class=\"avatar\"\r\n          />\r\n          <i class=\"el-icon-upload\"></i>\r\n          <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"文章内容 :\" prop=\"contentMd\">\r\n        <v-md-editor\r\n          v-model=\"text\"\r\n          :mode=\"mode\"\r\n          :left-toolbar=\"toolbar\"\r\n          height=\"400px\"\r\n          :disabled-menus=\"[]\"\r\n          @upload-image=\"handleUploadImage\"\r\n          @change=\"change\"\r\n        ></v-md-editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getTagList,\r\n  addArticle,\r\n  getArticleInfo,\r\n  updateArticle,\r\n} from \"@/api/article\";\r\nimport mixins_upload from \"@/utils/mixins_upload\";\r\nimport uploadToQiniu from \"@/api/qiniuUpload\";\r\n\r\nexport default {\r\n  mixins: [mixins_upload],\r\n  props: {\r\n    id: { type: String },\r\n  },\r\n  data() {\r\n    return {\r\n      tagList: [],\r\n      articleForm: {\r\n        title: \"\",\r\n        tags: [],\r\n        thumbnail: \"\",\r\n        isTop: false,\r\n        isShow: false,\r\n        contentMd: \"\",\r\n        contentHtml: \"\",\r\n      },\r\n      text: \"\", //\r\n      mode: \"editable\", //可选值：edit(纯编辑模式) editable(编辑与预览模式) preview(纯预览模式)。\r\n      toolbar:\r\n        \"undo redo clear | h bold italic strikethrough quote | ul ol table hr | link image code\",\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"请输入文章标题\", trigger: \"blur\" },\r\n          {\r\n            min: 3,\r\n            max: 25,\r\n            message: \"长度在 3 到 25 个字符\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        tags: [\r\n          { required: true, message: \"请选择文章标签\", trigger: \"change\" },\r\n        ],\r\n        contentMd: [\r\n          { required: true, message: \"请输入文章内容\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.getTag();\r\n    this.id && this.getArticle();\r\n  },\r\n  methods: {\r\n    async getTag() {\r\n      const res = await getTagList({ page: 1, pageSize: 999 });\r\n      this.tagList = res.data.tagList || 0;\r\n    },\r\n\r\n    async getArticle() {\r\n      const role = sessionStorage.getItem(\"role\") || \"\";\r\n      const res = await getArticleInfo({ id: this.id, role });\r\n      if (res.status === 1) {\r\n        this.$message.error(res.msg);\r\n      } else {\r\n        this.articleForm = res.data;\r\n        this.text = res.data.contentMd;\r\n      }\r\n    },\r\n\r\n    saveArticle() {\r\n      let id, res;\r\n      id = this.id;\r\n      this.$refs.articleForm.validate(async (valid) => {\r\n        if (!valid) {\r\n          this.$message.error(\"填写错误，请检查!\");\r\n          return;\r\n        } else {\r\n          if (id) {\r\n            res = await updateArticle({\r\n              id: this.id,\r\n              article: this.articleForm,\r\n            });\r\n          } else {\r\n            res = await addArticle({ article: this.articleForm });\r\n          }\r\n          if (res.status === 0) this.$router.push(\"/article/ArticleList\");\r\n        }\r\n      });\r\n    },\r\n\r\n    async uploadImg(req) {\r\n      const type = [\"png\", \"jpg\", \"jpeg\", \"gif\"];\r\n      if (type.indexOf(req.file.type.split(\"/\").pop()) < 0) {\r\n        this.$message.error('只支持上传 \"png\", \"jpg\", \"jpeg\", \"gif\" 类型文件');\r\n        return;\r\n      }\r\n      const result = await uploadToQiniu(req.file);\r\n      this.articleForm.thumbnail = result.url;\r\n    },\r\n\r\n    async handleUploadImage(event, insertImage, files) {\r\n      const type = [\"png\", \"jpg\", \"jpeg\", \"gif\"];\r\n      if (type.indexOf(files[0].type.split(\"/\").pop()) < 0) {\r\n        this.$message.error('只支持上传 \"png\", \"jpg\", \"jpeg\", \"gif\" 类型文件');\r\n        return;\r\n      }\r\n      const result = await uploadToQiniu(files[0]);\r\n      insertImage({\r\n        url: `${result.url}`,\r\n        desc: \"图片哦\",\r\n      });\r\n    },\r\n    change(text, html) {\r\n      // 内容变化时触发的事件。text 为输入的内容，html 为解析之后的 html 字符串。\r\n      this.articleForm.contentMd = text;\r\n      this.articleForm.contentHtml = html;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 100%;\r\n  object-fit: cover;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleEdit.vue?vue&type=template&id=4612b67f&scoped=true&\"\nimport script from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleEdit.vue?vue&type=style&index=0&id=4612b67f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4612b67f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"文章列表\")]),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(scope.row.title))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"tagNames\",\"label\":\"文章标签\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.tags),function(item){return _c('el-tag',{key:item._id,staticStyle:{\"margin\":\"3px 3px\"}},[_vm._v(_vm._s(item.title))])})}}])}),_c('el-table-column',{attrs:{\"prop\":\"createdAt\",\"label\":\"创建日期\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\" \"+_vm._s(_vm._f(\"dateFormatFilters\")(scope.row.createdAt,\"YYYY-mm-dd HH:MM:SS\"))+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"isTop\",\"label\":\"是否置顶\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.isTop)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"#67c23A\",\"font-size\":\"26px\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"#ff0000\",\"font-size\":\"26px\"}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"isShow\",\"label\":\"是否可见\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.isShow)?_c('i',{staticClass:\"el-icon-success\",staticStyle:{\"color\":\"#67c23A\",\"font-size\":\"26px\"}}):_c('i',{staticClass:\"el-icon-error\",staticStyle:{\"color\":\"#ff0000\",\"font-size\":\"26px\"}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"lickCount\",\"label\":\"浏览量/点赞数\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(scope.row.hitCount))]),_vm._v(\" \"),_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(_vm._s(scope.row.likeCount))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.toDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.articleTotal,\"page-size\":_vm.pageSize,\"current-page\":_vm.page},on:{\"current-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2>文章列表</h2>\r\n    <el-table :data=\"tableData\" class=\"table\">\r\n      <el-table-column prop=\"title\" label=\"标题\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"title\">{{ scope.row.title }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"tagNames\" label=\"文章标签\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n            v-for=\"item in scope.row.tags\"\r\n            :key=\"item._id\"\r\n            style=\"margin: 3px 3px\"\r\n            >{{ item.title }}</el-tag\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createdAt\" label=\"创建日期\" width=\"180\"\r\n        ><template slot-scope=\"scope\">\r\n          <div>\r\n            {{ scope.row.createdAt | dateFormatFilters(\"YYYY-mm-dd HH:MM:SS\") }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"isTop\" label=\"是否置顶\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <i\r\n              v-if=\"scope.row.isTop\"\r\n              class=\"el-icon-success\"\r\n              style=\"color: #67c23A; font-size: 26px\"\r\n            ></i>\r\n            <i\r\n              v-else\r\n              class=\"el-icon-error\"\r\n              style=\"color: #ff0000; font-size: 26px\"\r\n            ></i>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"isShow\" label=\"是否可见\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <i\r\n              v-if=\"scope.row.isShow\"\r\n              class=\"el-icon-success\"\r\n              style=\"color: #67c23A; font-size: 26px\"\r\n            ></i>\r\n            <i\r\n              v-else\r\n              class=\"el-icon-error\"\r\n              style=\"color: #ff0000; font-size: 26px\"\r\n            ></i>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"lickCount\" label=\"浏览量/点赞数\" width=\"140\">\r\n        <template slot-scope=\"scope\">\r\n          <div>\r\n            <el-tag type=\"success\">{{ scope.row.hitCount }}</el-tag\r\n            >&nbsp;\r\n            <el-tag type=\"danger\">{{ scope.row.likeCount }}</el-tag>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"goEdit(scope.row)\" type=\"primary\" size=\"small\"\r\n            >编辑</el-button\r\n          >\r\n          <el-button @click=\"toDelete(scope.row)\" type=\"danger\" size=\"small\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"page\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"articleTotal\"\r\n        :page-size=\"pageSize\"\r\n        :current-page=\"page\"\r\n        @current-change=\"pageChange\"\r\n      ></el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticleList, deleteArticle } from \"@/api/article\";\r\nimport dateFormatFilters from \"@/utils/dateFormatFilters.js\";\r\nexport default {\r\n  mixins: [dateFormatFilters],\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      page: 1,\r\n      pageSize: 8,\r\n      articleTotal: 1, // 总数量\r\n    };\r\n  },\r\n  created() {\r\n    this.initData();\r\n  },\r\n  methods: {\r\n    async initData() {\r\n      const { page, pageSize } = this;\r\n      const res = await getArticleList({ page, pageSize });\r\n      this.tableData = res.data.data;\r\n      this.articleTotal = res.data.totalSize;\r\n    },\r\n\r\n    goEdit(row) {\r\n      this.$router.push(`/article/ArticleUpdate/${row._id}`);\r\n    },\r\n\r\n    toDelete(row) {\r\n      const { page, tableData } = this;\r\n      this.$confirm(`此操作将永久删除 \"${row.title}\", 是否继续?`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          const res = await deleteArticle({ id: row._id });\r\n          if (res.status === 0) {\r\n            // 如果当前不是第一页且当前页只有一条数据\r\n            if (page != 1 && tableData.length == 1) {\r\n              this.page--;\r\n            }\r\n            this.initData();\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 页数改变\r\n    pageChange(currentPage) {\r\n      this.page = currentPage;\r\n      this.initData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.row-button {\r\n  display: flex;\r\n}\r\n.table {\r\n  .title {\r\n    font-weight: 800;\r\n    font-size: 18px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleList.vue?vue&type=template&id=455d1db7&scoped=true&\"\nimport script from \"./ArticleList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleList.vue?vue&type=style&index=0&id=455d1db7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"455d1db7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\"关于我\")]),_c('el-form',{attrs:{\"model\":_vm.aboutForm,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.saveAbout($event)}}},[_c('el-form-item',{attrs:{\"label\":\"LOGO :\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"http-request\":_vm.uploadImg,\"show-file-list\":false,\"header\":_vm.uploadHeaders}},[(_vm.aboutForm.logo)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.aboutForm.logo}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{staticStyle:{\"padding-bottom\":\"15px\"},attrs:{\"label\":\"QQ : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.qq),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"qq\", $$v)},expression:\"aboutForm.qq\"}})],1),_c('el-form-item',{staticStyle:{\"padding-bottom\":\"15px\"},attrs:{\"label\":\"E-Mail : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.e_mail),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"e_mail\", $$v)},expression:\"aboutForm.e_mail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Github : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.github),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"github\", $$v)},expression:\"aboutForm.github\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"内容 :\",\"prop\":\"contentMd\"}},[_c('v-md-editor',{attrs:{\"mode\":_vm.mode,\"left-toolbar\":_vm.toolbar,\"height\":\"400px\",\"disabled-menus\":[]},on:{\"upload-image\":_vm.handleUploadImage,\"change\":_vm.change},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import httpUtil from \"@/utils/httpUtil\";\r\n\r\nexport function updateAbout(data) {\r\n  return httpUtil({\r\n    method: \"put\",\r\n    url: \"/about/update\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function getAboutInfo() {\r\n  return httpUtil({\r\n    method: \"get\",\r\n    url: \"/about/info\"\r\n  });\r\n}\r\n","<template>\r\n  <div>\r\n    <h2 class=\"title\">关于我</h2>\r\n    <el-form\r\n      :model=\"aboutForm\"\r\n      label-width=\"100px\"\r\n      @submit.native.prevent=\"saveAbout\"\r\n    >\r\n      <el-form-item label=\"LOGO :\">\r\n        <el-col :span=\"8\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"uploadUrl\"\r\n            :http-request=\"uploadImg\"\r\n            :show-file-list=\"false\"\r\n            :header=\"uploadHeaders\"\r\n          >\r\n            <img v-if=\"aboutForm.logo\" :src=\"aboutForm.logo\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-col>\r\n\r\n        <el-col :span=\"10\">\r\n          <el-form-item label=\"QQ : \" prop=\"name\" style=\"padding-bottom:15px\">\r\n            <el-input v-model=\"aboutForm.qq\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"E-Mail : \"\r\n            prop=\"name\"\r\n            style=\"padding-bottom:15px\"\r\n          >\r\n            <el-input v-model=\"aboutForm.e_mail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Github : \" prop=\"name\">\r\n            <el-input v-model=\"aboutForm.github\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"内容 :\" prop=\"contentMd\">\r\n        <v-md-editor\r\n          v-model=\"text\"\r\n          :mode=\"mode\"\r\n          :left-toolbar=\"toolbar\"\r\n          height=\"400px\"\r\n          :disabled-menus=\"[]\"\r\n          @upload-image=\"handleUploadImage\"\r\n          @change=\"change\"\r\n        ></v-md-editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mixins_upload from \"@/utils/mixins_upload\";\r\nimport { updateAbout, getAboutInfo } from \"@/api/about\";\r\nimport uploadToQiniu from \"@/api/qiniuUpload\";\r\nexport default {\r\n  mixins: [mixins_upload],\r\n  data() {\r\n    return {\r\n      aboutForm: {\r\n        id: \"\",\r\n        logo: \"\",\r\n        qq: \"\",\r\n        e_mail: \"\",\r\n        github: \"\",\r\n        contentHtml: \"\",\r\n        contentMd: \"\"\r\n      },\r\n      text: \"\", //\r\n      mode: \"editable\", //可选值：edit(纯编辑模式) editable(编辑与预览模式) preview(纯预览模式)。\r\n      toolbar:\r\n        \"undo redo clear | h bold italic strikethrough quote | ul ol table hr | link image code\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initAboutInfo();\r\n  },\r\n  methods: {\r\n    async initAboutInfo() {\r\n      const res = await getAboutInfo();\r\n      //使用 Object.assign 合并两个对象 目的 防止 res.data 值为空 导致 aboutForm = null\r\n      if (res.data) {\r\n        this.aboutForm = Object.assign(this.aboutForm, res.data);\r\n        this.aboutForm.id = res.data._id;\r\n        this.text = res.data.contentMd;\r\n      }\r\n    },\r\n\r\n    async saveAbout() {\r\n      let id;\r\n      if (this.aboutForm.id) id = this.aboutForm.id;\r\n      const data = await updateAbout({ id: id, about: this.aboutForm });\r\n\r\n      if (data.status == 0) this.initAboutInfo();\r\n    },\r\n\r\n    async uploadImg(req) {\r\n      const result = await uploadToQiniu(req.file);\r\n      this.aboutForm.logo = result.url;\r\n    },\r\n\r\n    async handleUploadImage(event, insertImage, files) {\r\n      const result = await uploadToQiniu(files[0]);\r\n      insertImage({\r\n        url: `${result.url}`,\r\n        desc: \"图片哦\"\r\n      });\r\n    },\r\n    change(text, html) {\r\n      // 内容变化时触发的事件。text 为输入的内容，html 为解析之后的 html 字符串。\r\n      this.aboutForm.contentMd = text;\r\n      this.aboutForm.contentHtml = html;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutMe.vue?vue&type=template&id=531109e3&scoped=true&\"\nimport script from \"./AboutMe.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutMe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AboutMe.vue?vue&type=style&index=0&id=531109e3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"531109e3\",\n  null\n  \n)\n\nexport default component.exports","import { qiniuUploadToken, uploads } from \"@/api/qiniu\";\r\nimport httpUtil from \"@/utils/httpUtil\";\r\nimport { Message } from \"element-ui\";\r\n\r\nasync function uploadToQiniu(file) {\r\n  // 获取七牛云 Token\r\n  const { data, status } = await qiniuUploadToken()\r\n  if (status === 1) return\r\n\r\n  const uploadUrl = \"http://upload-z2.qiniup.com\";\r\n\r\n  let doc = file.type.split('/').shift();\r\n\r\n  let mimetype = {\r\n    \"image/png\": \"png\",\r\n    \"image/jpeg\": \"jpg\",\r\n    \"image/gif\": \"gif\",\r\n    \"audio/mp3\": \"mp3\",\r\n    \"audio/mpeg\": \"mp3\"\r\n  }\r\n\r\n  let keyName;\r\n\r\n  if (!mimetype[file.type]) {\r\n    Message.error(`暂不支持上传${file.type}格式`);\r\n    return\r\n  }\r\n\r\n  if (mimetype[file.type] == 'mp3') {\r\n    keyName = `${doc}${new Date().getTime()}/${file.name}${Math.random()\r\n      .toString(36)\r\n      .slice(2)}.${mimetype[file.type]}`;\r\n  } else {\r\n    keyName = `${doc}/${new Date().getTime()}${Math.random()\r\n      .toString(36)\r\n      .slice(2)}.${mimetype[file.type]}`;\r\n  }\r\n\r\n  // 图片压缩\r\n  if (file.size > (1024 * 1024) && ['image/png', 'image/jpeg', 'image/jpg'].indexOf(file.type) >= 0) {\r\n    await canvasDataURL(file).then((blob) => {\r\n      Message({\r\n        showClose: true,\r\n        message:\r\n          `图片大于1M!,\r\n        压缩前：${(file.size / 1024 / 1024).toFixed(2)}\"M\"\r\n        压缩后：${(blob.size / 1024 / 1024).toFixed(2)}\"M\"\r\n        `,\r\n        type: 'success',\r\n        duration: 0\r\n      })\r\n      file = new File([blob], file.name, {\r\n        type: file.type\r\n      })\r\n    })\r\n  }\r\n\r\n  console.log('file:后 ', file);\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  formData.append(\"token\", data);\r\n  formData.append(\"key\", keyName);\r\n\r\n  const result = await httpUtil.post(\r\n    uploadUrl,\r\n    formData, {\r\n    onUploadProgress: progressEvent => {\r\n      let value = parseInt(\r\n        ((progressEvent.loaded / progressEvent.total) * 100).toFixed(\r\n          0\r\n        )\r\n      )\r\n      if (value % 25 == 0) {\r\n        Message({\r\n          showClose: true,\r\n          message: `正在上传${value}%`,\r\n          type: 'success',\r\n          duration: 0\r\n        })\r\n      }\r\n    }\r\n  }\r\n  );\r\n  return result\r\n}\r\n\r\n/**\r\n * \r\n */\r\nfunction canvasDataURL(file) {\r\n  return new Promise(function (resolve, reject) {\r\n    console.log('canvasDataURL: ');\r\n    var reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = function (e) {\r\n      console.log('reader.onload: ');\r\n      const img = new Image();\r\n      const quality = 0.7;\r\n      const canvas = document.createElement('canvas');\r\n      const drawer = canvas.getContext('2d');\r\n      img.src = this.result;\r\n      // console.log('this.result: ', this.result);Base64\r\n      img.onload = function () {\r\n        console.log('img.onload: ');\r\n        canvas.height = img.height;\r\n        canvas.width = img.width;\r\n        drawer.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n        convertBase64UrlToBlob(canvas.toDataURL(file.type, quality), resolve)\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction convertBase64UrlToBlob(urlData, resolve) {\r\n  console.log('convertBase64UrlToBlob: ');\r\n  // console.log('urlData: ', urlData);\r\n  const arr = urlData.split(',');\r\n  const mine = arr[0].match(/:(.*?);/)[1]\r\n  const bstr = atob(arr[1])\r\n  let n = bstr.length\r\n  const u8arr = new Uint8Array(n)\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n)\r\n  }\r\n  resolve(new Blob([u8arr], {\r\n    type: mine\r\n  }))\r\n}\r\n\r\nexport default uploadToQiniu","const isProduction = process.env.NODE_ENV === \"production\";\r\nexport default {\r\n  computed: {\r\n    uploadUrl() {\r\n      // return isProduction ? '/api/admin/uploads/images':process.env.VUE_APP_BASE_API + '/uploads/images'\r\n      return 'http://upload-z2.qiniup.com'\r\n    },\r\n    // 文件上传时的请求头\r\n    uploadHeaders() {\r\n      return { 'Authorization': sessionStorage.getItem('token') || '' }\r\n    }\r\n  },\r\n}"],"sourceRoot":""}