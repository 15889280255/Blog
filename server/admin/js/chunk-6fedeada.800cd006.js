(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fedeada"],{a55b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"账号",prop:"account"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",{staticClass:"btn-row"},[r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("登陆")]),r("el-button",{attrs:{type:"info"},on:{click:e.resetForm}},[e._v("重置")]),r("el-button",{attrs:{type:"warning"},on:{click:e.tourisLogin}},[e._v("游客登录")])],1)],1)],1)],1)},n=[],o=(r("96cf"),r("1da1")),s=r("7ded"),u={name:"Login",data:function(){return{loading:!1,ruleForm:{account:"admin",password:""},rules:{account:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{resetForm:function(){this.$refs.ruleForm.resetFields()},submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&e.loginF()}))},loginF:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.ruleForm,a=r.account,n=r.password,e.loading=!0,t.next=4,Object(s["b"])({account:a,password:n});case 4:if(o=t.sent,e.loading=!1,1!=o.status){t.next=8;break}return t.abrupt("return");case 8:localStorage.setItem("token",o.token),localStorage.setItem("account",o.data.account),e.$router.push("/");case 11:case"end":return t.stop()}}),t)})))()},tourisLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["c"])();case 2:r=t.sent,localStorage.setItem("token",r.token),localStorage.setItem("account",r.data.account),e.$router.push("/");case 6:case"end":return t.stop()}}),t)})))()}}},c=u,l=(r("d6db"),r("2877")),i=Object(l["a"])(c,a,n,!1,null,null,null);t["default"]=i.exports},d6db:function(e,t,r){"use strict";var a=r("e67a"),n=r.n(a);n.a},e67a:function(e,t,r){}}]);
//# sourceMappingURL=chunk-6fedeada.800cd006.js.map