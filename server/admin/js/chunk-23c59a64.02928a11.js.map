{"version":3,"sources":["webpack:///./src/views/article/ArticleEdit.vue?dd20","webpack:///./src/views/system/AdminList.vue?355a","webpack:///./src/api/admin.js","webpack:///src/views/system/AdminList.vue","webpack:///./src/views/system/AdminList.vue?6e3c","webpack:///./src/views/system/AdminList.vue","webpack:///./src/views/article/ArticleEdit.vue?8b28","webpack:///src/views/article/ArticleEdit.vue","webpack:///./src/views/article/ArticleEdit.vue?2d20","webpack:///./src/views/article/ArticleEdit.vue","webpack:///./src/views/system/AdminList.vue?310a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","openDialog","_v","tableData","scopedSlots","_u","key","fn","scope","handleDelete","row","_id","slot","_e","ref","formData","rules","formLabelWidth","model","value","callback","$$v","$set","expression","_l","item","type","submitForm","staticRenderFns","addAdmin","data","httpUtil","url","method","deleteAdmin","params","updateAdmin","getAdminList","getRoleList","id","role","name","account","password","roleList","created","initAdminList","initRoleList","methods","$refs","validate","valid","component","_s","articleForm","nativeOn","preventDefault","saveArticle","tag","title","staticStyle","uploadUrl","uploadHeaders","handleThumbnailSuccess","thumbnail","editor","changeEdit","components","mixins","mixins_upload","props","tagList","tags","isTop","isShow","contentMd","contentHtml","default_open","toolbars","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","imagelink","code","fullscreen","readmodel","help","undo","redo","trash","ishljs","navigation","preview","getTag","getArticle","res","status","$message","success","error","md","html"],"mappings":"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","file":"js/chunk-23c59a64.02928a11.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=style&index=0&id=58f01213&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=style&index=0&id=58f01213&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"AdminList\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"默认不开启游客登录，添加 'Tourist' 类型管理员开启游客登录\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"primary addDialog\",\"plain\":\"\"},on:{\"click\":function($event){_vm.openDialog = true}}},[_c('div',[_c('i',{staticClass:\"el-icon-circle-plus\"}),_c('span',[_vm._v(\" 添加管理员\")])])])],1),_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"管理员列表\"}},[(_vm.tableData)?_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"_id\",\"label\":\"编号\",\"width\":\"350\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"role.type\",\"label\":\"类型\"}}),_c('el-table-column',{staticClass:\"option\",attrs:{\"label\":\"操作\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-popconfirm',{attrs:{\"title\":\"确定删除该管理员吗?\"},on:{\"onConfirm\":function($event){return _vm.handleDelete(scope.row._id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"size\":\"mini\",\"type\":\"danger\"},slot:\"reference\"},[_c('div',[_vm._v(\"删除\")])])],1)],1)]}}],null,false,770790673)})],1):_vm._e()],1),_c('el-dialog',{attrs:{\"title\":\"信息添加\",\"visible\":_vm.openDialog},on:{\"update:visible\":function($event){_vm.openDialog=$event}}},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"角色\",\"label-width\":_vm.formLabelWidth,\"prop\":\"role\"}},[_c('el-select',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.role),callback:function ($$v) {_vm.$set(_vm.formData, \"role\", $$v)},expression:\"formData.role\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.type,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"名字\",\"label-width\":_vm.formLabelWidth,\"prop\":\"name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"账号\",\"label-width\":_vm.formLabelWidth,\"prop\":\"account\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.account),callback:function ($$v) {_vm.$set(_vm.formData, \"account\", $$v)},expression:\"formData.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"label-width\":_vm.formLabelWidth,\"prop\":\"password\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.openDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_c('div',[_vm._v(\"确 定\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import httpUtil from '@/utils/httpUtil'\r\n\r\n// 添加管理员\r\nexport function addAdmin(data) {\r\n  return httpUtil({\r\n    url: '/admin/edit',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除管理员\r\nexport function deleteAdmin(params) {\r\n  return httpUtil({\r\n    url: '/admin/delete',\r\n    method: 'delete',\r\n    params\r\n  })\r\n}\r\n\r\n// 更新管理员\r\nexport function updateAdmin(data) {\r\n  return httpUtil({\r\n    url: '/admin/update',\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取管理员列表\r\nexport function getAdminList(params) {\r\n  return httpUtil({\r\n    url: '/admin/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 获取角色列表\r\nexport function getRoleList(params) {\r\n  return httpUtil({\r\n    url: '/role/list',\r\n    method: 'get',\r\n    params\r\n  })\r\n}","<template>\r\n  <div class=\"AdminList\">\r\n    <el-tooltip\r\n      class=\"item\"\r\n      effect=\"dark\"\r\n      content=\"默认不开启游客登录，添加 'Tourist' 类型管理员开启游客登录\"\r\n      placement=\"top\"\r\n    >\r\n      <el-button type=\"primary addDialog\" plain @click=\"openDialog = true\">\r\n        <div><i class=\"el-icon-circle-plus\"></i><span> 添加管理员</span></div>\r\n      </el-button>\r\n    </el-tooltip>\r\n\r\n    <el-tabs type=\"border-card\">\r\n      <el-tab-pane label=\"管理员列表\">\r\n        <el-table class=\"table\" :data=\"tableData\" v-if=\"tableData\">\r\n          <el-table-column\r\n            prop=\"_id\"\r\n            label=\"编号\"\r\n            width=\"350\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            prop=\"name\"\r\n            label=\"名称\"\r\n            width=\"250\"\r\n          ></el-table-column>\r\n          <el-table-column prop=\"role.type\" label=\"类型\"></el-table-column>\r\n          <el-table-column label=\"操作\" class=\"option\" width=\"250\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-popconfirm\r\n                  title=\"确定删除该管理员吗?\"\r\n                  @onConfirm=\"handleDelete(scope.row._id)\"\r\n                >\r\n                  <el-button slot=\"reference\" size=\"mini\" type=\"danger\">\r\n                    <div>删除</div>\r\n                  </el-button>\r\n                </el-popconfirm>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-tab-pane>\r\n      <el-dialog title=\"信息添加\" :visible.sync=\"openDialog\">\r\n        <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\">\r\n          <el-form-item label=\"角色\" :label-width=\"formLabelWidth\" prop=\"role\">\r\n            <el-select v-model=\"formData.role\" autocomplete=\"off\">\r\n              <el-option\r\n                v-for=\"item in roleList\"\r\n                :key=\"item._id\"\r\n                :label=\"item.type\"\r\n                :value=\"item._id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"名字\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n            <el-input v-model=\"formData.name\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"账号\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"account\"\r\n          >\r\n            <el-input v-model=\"formData.account\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"密码\"\r\n            :label-width=\"formLabelWidth\"\r\n            prop=\"password\"\r\n          >\r\n            <el-input v-model=\"formData.password\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"openDialog = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm\">\r\n            <div>确 定</div>\r\n          </el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </el-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAdminList,\r\n  addAdmin,\r\n  updateAdmin,\r\n  deleteAdmin,\r\n  getRoleList\r\n} from \"@/api/admin\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      openDialog: false,\r\n      formData: {\r\n        id: \"\",\r\n        role: \"\",\r\n        name: \"\",\r\n        account: \"\",\r\n        password: \"\"\r\n      },\r\n      formLabelWidth: \"120px\",\r\n      roleList: [],\r\n      rules: {\r\n        role: { required: true, message: \"请选择角色\", trigger: \"change\" },\r\n        name: [\r\n          { required: true, message: \"请输入名字\", trigger: \"blur\" },\r\n          { min: 3, max: 15, message: \"长度在 3 到 15 个字符\", trigger: \"blur\" }\r\n        ],\r\n        account: { required: true, message: \"请输入账号\", trigger: \"blur\" },\r\n        password: { required: true, message: \"请输入密码\", trigger: \"blur\" }\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.initAdminList();\r\n    this.initRoleList();\r\n  },\r\n  methods: {\r\n    async initAdminList() {\r\n      const res = await getAdminList();\r\n      this.tableData = res.data;\r\n    },\r\n    async initRoleList() {\r\n      const res = await getRoleList();\r\n      this.roleList = res.data;\r\n    },\r\n\r\n    async createAdmin() {\r\n      const formData = this.formData;\r\n      let res;\r\n      if (formData.id) {\r\n        res = await updateAdmin(formData);\r\n      } else {\r\n        res = await addAdmin(this.formData);\r\n      }\r\n      this.formData = {};\r\n      if (res.status == 0) this.initAdminList();\r\n      this.openDialog = false;\r\n    },\r\n\r\n    submitForm() {\r\n      this.$refs.formData.validate(valid => {\r\n        if (valid) this.createAdmin();\r\n      });\r\n    },\r\n\r\n    async handleDelete(id) {\r\n      const res = await deleteAdmin({ id });\r\n      if (res.status == 0) this.initAdminList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../../assets/style/style.scss\";\r\n.AdminList {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .addDialog {\r\n    margin-bottom: 20px;\r\n    .el-icon-circle-plus {\r\n      font-size: 20px;\r\n      vertical-align: sub;\r\n    }\r\n  }\r\n  .option-1 {\r\n    margin-right: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminList.vue?vue&type=template&id=1682f688&\"\nimport script from \"./AdminList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.id ? \"编辑\" : \"新建\")+\"文章\")]),_c('el-form',{ref:\"articleForm\",attrs:{\"model\":_vm.articleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.saveArticle($event)}}},[_c('el-form-item',{attrs:{\"label\":\"文章标题 :\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.articleForm.title),callback:function ($$v) {_vm.$set(_vm.articleForm, \"title\", $$v)},expression:\"articleForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章类型 :\",\"prop\":\"tags\"}},[(_vm.tagList)?_c('el-checkbox-group',{attrs:{\"size\":\"medium\"},model:{value:(_vm.articleForm.tags),callback:function ($$v) {_vm.$set(_vm.articleForm, \"tags\", $$v)},expression:\"articleForm.tags\"}},_vm._l((_vm.tagList),function(tag){return _c('el-checkbox-button',{key:tag._id,attrs:{\"label\":tag._id}},[_vm._v(_vm._s(tag.title))])}),1):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"设置置顶 :\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#666\"},model:{value:(_vm.articleForm.isTop),callback:function ($$v) {_vm.$set(_vm.articleForm, \"isTop\", $$v)},expression:\"articleForm.isTop\"}}),_c('span',{staticStyle:{\"padding-left\":\"40px\",\"color\":\"#606266\"}},[_vm._v(\"设置可见 : \")]),_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#666\"},model:{value:(_vm.articleForm.isShow),callback:function ($$v) {_vm.$set(_vm.articleForm, \"isShow\", $$v)},expression:\"articleForm.isShow\"}})],1),_c('el-form-item',{attrs:{\"label\":\"封 面 :\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.uploadHeaders,\"show-file-list\":false,\"on-success\":_vm.handleThumbnailSuccess}},[(_vm.articleForm.thumbnail)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.articleForm.thumbnail}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"文章内容 :\",\"prop\":\"contentMd\"}},[_c('markdown-editor',{staticClass:\"me-write-editor\",attrs:{\"editor\":_vm.editor},on:{\"changeEdit\":_vm.changeEdit}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2 class=\"title\">{{ id ? \"编辑\" : \"新建\" }}文章</h2>\r\n    <el-form\r\n      :model=\"articleForm\"\r\n      ref=\"articleForm\"\r\n      :rules=\"rules\"\r\n      label-width=\"100px\"\r\n      @submit.native.prevent=\"saveArticle\"\r\n    >\r\n      <el-form-item label=\"文章标题 :\" prop=\"title\">\r\n        <el-input v-model=\"articleForm.title\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"文章类型 :\" prop=\"tags\">\r\n        <el-checkbox-group\r\n          v-if=\"tagList\"\r\n          v-model=\"articleForm.tags\"\r\n          size=\"medium\"\r\n        >\r\n          <el-checkbox-button\r\n            v-for=\"tag in tagList\"\r\n            :label=\"tag._id\"\r\n            :key=\"tag._id\"\r\n            >{{ tag.title }}</el-checkbox-button\r\n          >\r\n        </el-checkbox-group>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"设置置顶 :\">\r\n        <el-switch\r\n          v-model=\"articleForm.isTop\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#666\"\r\n        ></el-switch>\r\n        <span style=\"padding-left:40px;color:#606266\">设置可见 :&nbsp;</span>\r\n        <el-switch\r\n          v-model=\"articleForm.isShow\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#666\"\r\n        ></el-switch>\r\n      </el-form-item>\r\n      <el-form-item label=\"封 面 :\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"uploadUrl\"\r\n          :headers=\"uploadHeaders\"\r\n          :show-file-list=\"false\"\r\n          :on-success=\"handleThumbnailSuccess\"\r\n        >\r\n          <img\r\n            v-if=\"articleForm.thumbnail\"\r\n            :src=\"articleForm.thumbnail\"\r\n            class=\"avatar\"\r\n          />\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"文章内容 :\" prop=\"contentMd\">\r\n        <markdown-editor\r\n          :editor=\"editor\"\r\n          class=\"me-write-editor\"\r\n          @changeEdit=\"changeEdit\"\r\n        ></markdown-editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MarkdownEditor from \"@/components/MarkdownEditor\";\r\nimport {\r\n  getTagList,\r\n  addArticle,\r\n  getArticleInfo,\r\n  updateArticle\r\n} from \"@/api/article\";\r\nimport mixins_upload from \"../../utils/mixins_upload\";\r\nexport default {\r\n  components: { MarkdownEditor },\r\n  mixins: [mixins_upload],\r\n  props: {\r\n    id: { type: String }\r\n  },\r\n  data() {\r\n    return {\r\n      tagList: [],\r\n      articleForm: {\r\n        title: \"\",\r\n        tags: [],\r\n        thumbnail: \"\",\r\n        isTop: false,\r\n        isShow: false,\r\n        contentMd: \"\",\r\n        contentHtml: \"\"\r\n      },\r\n      editor: {\r\n        value: \"\",\r\n        ref: \"\", //保存mavonEditor实例  实际不该这样\r\n        default_open: \"edit\",\r\n        toolbars: {\r\n          bold: true, // 粗体\r\n          italic: true, // 斜体\r\n          header: true, // 标题\r\n          underline: true, // 下划线\r\n          strikethrough: true, // 中划线\r\n          mark: true, // 标记\r\n          superscript: true, // 上角标\r\n          subscript: true, // 下角标\r\n          quote: true, // 引用\r\n          ol: true, // 有序列表\r\n          ul: true, // 无序列表\r\n          imagelink: true, // 图片链接\r\n          code: true, // code\r\n          fullscreen: true, // 全屏编辑\r\n          readmodel: true, // 沉浸式阅读\r\n          help: true, // 帮助\r\n          undo: true, // 上一步\r\n          redo: true, // 下一步\r\n          trash: false, // 清空\r\n          ishljs: true,\r\n          navigation: true, // 导航目录\r\n          preview: true // 预览\r\n        }\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"请输入文章标题\", trigger: \"blur\" },\r\n          { min: 3, max: 25, message: \"长度在 3 到 25 个字符\", trigger: \"blur\" }\r\n        ],\r\n        tags: [\r\n          { required: true, message: \"请选择文章标签\", trigger: \"change\" }\r\n        ],\r\n        contentMd: [\r\n          { required: true, message: \"请输入文章内容\", trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getTag();\r\n    this.id && this.getArticle();\r\n  },\r\n  methods: {\r\n    async getTag() {\r\n      const res = await getTagList({ page: 1, pageSize: 999 });\r\n      this.tagList = res.data.tagList;\r\n    },\r\n\r\n    async getArticle() {\r\n      const res = await getArticleInfo({ id: this.id });\r\n      this.articleForm = res.data;\r\n      this.editor.value = res.data.contentMd;\r\n    },\r\n\r\n    saveArticle() {\r\n      let id, res;\r\n      id = this.id;\r\n      this.$refs.articleForm.validate(async valid => {\r\n        if (!valid) {\r\n          this.$message.error(\"填写错误，请检查!\");\r\n          return;\r\n        } else {\r\n          if (id) {\r\n            res = await updateArticle({\r\n              id: this.id,\r\n              article: this.articleForm\r\n            });\r\n          } else {\r\n            res = await addArticle({ article: this.articleForm });\r\n          }\r\n          if (res.status === 0) this.$router.push(\"/article/ArticleList\");\r\n        }\r\n      });\r\n    },\r\n\r\n    handleThumbnailSuccess(res) {\r\n      if (res.status == 0) {\r\n        this.$message.success(`${res.msg}`);\r\n        this.articleForm.thumbnail = res.data.url;\r\n      } else {\r\n        this.$message.error(`${res.msg}`);\r\n      }\r\n    },\r\n\r\n    changeEdit(html, md) {\r\n      this.articleForm.contentMd = md;\r\n      this.articleForm.contentHtml = html;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleEdit.vue?vue&type=template&id=58f01213&scoped=true&\"\nimport script from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleEdit.vue?vue&type=style&index=0&id=58f01213&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"58f01213\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}