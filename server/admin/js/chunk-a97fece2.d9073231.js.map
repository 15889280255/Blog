{"version":3,"sources":["webpack:///./src/views/system/AboutMe.vue?b644","webpack:///./src/views/system/AboutMe.vue?76e2","webpack:///./src/api/about.js","webpack:///src/views/system/AboutMe.vue","webpack:///./src/views/system/AboutMe.vue?2c15","webpack:///./src/views/system/AboutMe.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","aboutForm","nativeOn","$event","preventDefault","saveAbout","uploadUrl","uploadHeaders","handleThumbnailSuccess","logo","staticStyle","model","value","callback","$$v","$set","expression","editor","on","changeEdit","staticRenderFns","updateAbout","data","httpUtil","method","url","getAboutInfo","components","mixins","mixins_upload","_id","qq","e_mail","github","contentHtml","contentMd","ref","default_open","toolbars","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","imagelink","code","fullscreen","readmodel","help","undo","redo","trash","ishljs","navigation","preview","beforeMount","initAboutInfo","methods","res","status","$message","success","error","md","html","component"],"mappings":"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","file":"js/chunk-a97fece2.d9073231.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=style&index=0&id=37efc73f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=style&index=0&id=37efc73f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"title\"},[_vm._v(\"关于我\")]),_c('el-form',{attrs:{\"model\":_vm.aboutForm,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.saveAbout($event)}}},[_c('el-form-item',{attrs:{\"label\":\"LOGO :\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.uploadHeaders,\"show-file-list\":false,\"on-success\":_vm.handleThumbnailSuccess}},[(_vm.aboutForm.logo)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.aboutForm.logo}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-col',{attrs:{\"span\":11}},[_c('el-form-item',{staticStyle:{\"padding-bottom\":\"15px\"},attrs:{\"label\":\"QQ : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.qq),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"qq\", $$v)},expression:\"aboutForm.qq\"}})],1),_c('el-form-item',{staticStyle:{\"padding-bottom\":\"15px\"},attrs:{\"label\":\"E-Mail : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.e_mail),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"e_mail\", $$v)},expression:\"aboutForm.e_mail\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Github : \",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.aboutForm.github),callback:function ($$v) {_vm.$set(_vm.aboutForm, \"github\", $$v)},expression:\"aboutForm.github\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"内容 :\",\"prop\":\"contentMd\"}},[_c('markdown-editor',{staticClass:\"me-write-editor\",attrs:{\"editor\":_vm.editor},on:{\"changeEdit\":_vm.changeEdit}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import httpUtil from \"@/utils/httpUtil\";\r\n\r\nexport function updateAbout(data) {\r\n  return httpUtil({\r\n    method: \"put\",\r\n    url: \"/about/update\",\r\n    data\r\n  });\r\n}\r\n\r\nexport function getAboutInfo() {\r\n  return httpUtil({\r\n    method: \"get\",\r\n    url: \"/about/info\"\r\n  });\r\n}\r\n","<template>\r\n  <div>\r\n    <h2 class=\"title\">关于我</h2>\r\n    <el-form\r\n      :model=\"aboutForm\"\r\n      label-width=\"100px\"\r\n      @submit.native.prevent=\"saveAbout\"\r\n    >\r\n      <el-form-item label=\"LOGO :\">\r\n        <el-col :span=\"4\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :action=\"uploadUrl\"\r\n            :headers=\"uploadHeaders\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleThumbnailSuccess\"\r\n          >\r\n            <img v-if=\"aboutForm.logo\" :src=\"aboutForm.logo\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-col>\r\n\r\n        <el-col :span=\"11\">\r\n          <el-form-item label=\"QQ : \" prop=\"name\" style=\"padding-bottom:15px\">\r\n            <el-input v-model=\"aboutForm.qq\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"E-Mail : \"\r\n            prop=\"name\"\r\n            style=\"padding-bottom:15px\"\r\n          >\r\n            <el-input v-model=\"aboutForm.e_mail\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Github : \" prop=\"name\">\r\n            <el-input v-model=\"aboutForm.github\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"内容 :\" prop=\"contentMd\">\r\n        <markdown-editor\r\n          :editor=\"editor\"\r\n          class=\"me-write-editor\"\r\n          @changeEdit=\"changeEdit\"\r\n        ></markdown-editor>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MarkdownEditor from \"@/components/MarkdownEditor\";\r\nimport mixins_upload from \"@/utils/mixins_upload\";\r\nimport { updateAbout, getAboutInfo } from \"@/api/about\";\r\nexport default {\r\n  components: { MarkdownEditor },\r\n  mixins: [mixins_upload],\r\n  data() {\r\n    return {\r\n      aboutForm: {\r\n        _id: \"\",\r\n        logo: \"\",\r\n        qq: \"\",\r\n        e_mail: \"\",\r\n        github: \"\",\r\n        contentHtml: \"\",\r\n        contentMd: \"\"\r\n      },\r\n      editor: {\r\n        value: \"\",\r\n        ref: \"\", //保存mavonEditor实例  实际不该这样\r\n        default_open: \"edit\",\r\n        toolbars: {\r\n          bold: true, // 粗体\r\n          italic: true, // 斜体\r\n          header: true, // 标题\r\n          underline: true, // 下划线\r\n          strikethrough: true, // 中划线\r\n          mark: true, // 标记\r\n          superscript: true, // 上角标\r\n          subscript: true, // 下角标\r\n          quote: true, // 引用\r\n          ol: true, // 有序列表\r\n          ul: true, // 无序列表\r\n          imagelink: true, // 图片链接\r\n          code: true, // code\r\n          fullscreen: true, // 全屏编辑\r\n          readmodel: true, // 沉浸式阅读\r\n          help: true, // 帮助\r\n          undo: true, // 上一步\r\n          redo: true, // 下一步\r\n          trash: false, // 清空\r\n          ishljs: true,\r\n          navigation: true, // 导航目录\r\n          preview: true // 预览\r\n        }\r\n      }\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.initAboutInfo();\r\n  },\r\n  methods: {\r\n    async initAboutInfo() {\r\n      const res = await getAboutInfo();\r\n      //使用 Object.assign目的 防止 res.data 值为空 导致 aboutForm = null\r\n      //使用 Object.assign 合并两个对象\r\n      this.aboutForm = Object.assign(this.aboutForm, res.data);\r\n      this.aboutForm._id = res.data;\r\n      this.editor.value = res.data.contentMd;\r\n    },\r\n\r\n    async saveAbout() {\r\n      let id, data, about;\r\n      if (this.aboutForm._id) id = this.aboutForm._id;\r\n      about = this.aboutForm;\r\n      console.log(id, about);\r\n      data = await updateAbout({ id: id, about: about });\r\n      if (data.status == 0) this.initAboutInfo();\r\n    },\r\n\r\n    handleThumbnailSuccess(res) {\r\n      if (res.status == 0) {\r\n        this.$message.success(`${res.msg}`);\r\n        this.$set(this.aboutForm, \"logo\", res.data.url);\r\n      } else {\r\n        this.$message.error(`${res.msg}`);\r\n      }\r\n    },\r\n\r\n    changeEdit(html, md) {\r\n      this.aboutForm.contentMd = md;\r\n      this.aboutForm.contentHtml = html;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutMe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutMe.vue?vue&type=template&id=37efc73f&scoped=true&\"\nimport script from \"./AboutMe.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutMe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AboutMe.vue?vue&type=style&index=0&id=37efc73f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37efc73f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}